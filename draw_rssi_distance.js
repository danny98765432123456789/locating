var plotly = require('plotly')("danny98765432123456789", "Ede5PF6OJWVgqxHfu0jJ");
draw();

function draw() {
  var tenfor_x = [];
  for (var i = 0; i <= 40; i++) {
    Array.prototype.push.apply(tenfor_x, Array(10).fill(i));
  }
  var onefor_x = [];
  for (var i = 0; i <= 40; i++) {
    Array.prototype.push.apply(onefor_x, Array(1).fill(i));
  }

  var RSSI = {
    x: tenfor_x,
    y: [178, 183, 173, 219, 255, 255, 208, 255, 224, 192, 163, 169, 164, 150, 168, 117, 240, 142, 142, 97, 117, 153, 170, 167, 168, 176, 174, 168, 116, 156, 149, 147, 86, 121, 98, 142, 127, 129, 125, 148, 118, 111, 7, 176, 36, 61, 91, 72, 76, 65, 115, 121, 127, 135, 125, 137, 118, 141, 126, 146, 60, 48, 94, 94, 89, 97, 97, 97, 108, 95, 54, 42, 93, 58, 58, 0, 0, 62, 54, 78, 96, 84, 40, 70, 75, 29, 40, 55, 68, 57, 68, 99, 57, 57, 79, 88, 85, 85, 70, 0, 51, 51, 33, 10, 38, 38, 15, 15, 85, 85, 106, 105, 104, 118, 108, 208, 208, 105, 99, 99, 87, 72, 52, 71, 71, 71, 75, 8, 76, 94, 89, 99, 97, 240, 98, 97, 78, 97, 95, 100, 22, 66, 66, 35, 74, 82, 73, 72, 80, 68, 66, 66, 84, 93, 87, 95, 84, 84, 69, 69, 77, 77, 70, 6, 22, 60, 58, 73, 73, 53, 77, 77, 65, 41, 45, 45, 58, 66, 65, 24, 32, 72, 96, 16, 92, 93, 91, 87, 83, 81, 32, 72, 96, 16, 92, 93, 91, 87, 83, 81, 64, 89, 89, 192, 72, 69, 69, 144, 56, 65, 0, 49, 15, 43, 41, 55, 39, 66, 66, 65, 73, 73, 80, 47, 51, 67, 88, 76, 76, 74, 76, 61, 53, 68, 82, 77, 77, 73, 73, 64, 52, 128, 49, 52, 76, 77, 57, 79, 77, 21, 38, 80, 17, 14, 14, 32, 32, 69, 84, 65, 64, 86, 69, 58, 83, 73, 59, 43, 80, 96, 78, 77, 57, 75, 160, 74, 47, 47, 40, 32, 31, 43, 43, 15, 2, 2, 29, 39, 39, 39, 24, 37, 32, 72, 39, 39, 72, 79, 72, 58, 34, 52, 55, 41, 50, 32, 43, 7, 42, 6, 27, 208, 46, 1, 50, 18, 12, 10, 10, 1, 2, 48, 63, 51, 57, 57, 52, 52, 15, 54, 68, 64, 59, 41, 41, 41, 67, 32, 36, 36, 34, 71, 77, 77, 79, 76, 76, 69, 67, 67, 84, 112, 96, 64, 89, 92, 92, 81, 72, 67, 61, 76, 16,
      72, 72, 72, 70, 70, 65, 64, 53, 64, 63, 63, 62, 35, 1, 38, 39, 51, 40, 40, 33, 46, 57, 21, 21, 21, 39, 39, 40, 13, 13, 19, 19, 17, 74, 12, 24, 4, 7, 52, 39, 37, 160, 34, 47, 47, 35, 58, 41, 41, 41, 2, 1, 1, 1, 1, 1, 1
    ],
    mode: "markers",
    type: "scatter",
    name: "RSSI"
  };

  var Average = {
    x: onefor_x,
    y: [214.2, 155.2, 156.5, 127.2, 81.3, 129.1, 87.9, 49.9, 61.4, 68.8, 42.1, 126, 67.7, 109, 63.8, 79.7, 56.9, 56.3, 74.3, 90.9, 43.9, 70.5, 70.4, 66.8, 44.5, 71.1, 68.7, 28.2, 52.4, 36.2, 38.3, 45.1, 48.5, 69.3, 84.9, 63.8, 46.9, 35.7, 23.5, 51.6, 13.1],
    mode: "markers,line",
    type: "scatter",
    name: "Average"
  };

  var data = [RSSI, Average];
  var layout = {
  title: "RSSI vs. Distance",
  xaxis: {
    title: "Distance (m)",
    titlefont: {
      family: "Courier New, monospace",
      size: 18,
      color: "#7f7f7f"
    }
  },
  yaxis: {
    title: "RSSI",
    titlefont: {
      family: "Courier New, monospace",
      size: 18,
      color: "#7f7f7f"
    }
  }
};
  var graphOptions = {
    filename: "RSSI vs. Distance",
    fileopt: "overwrite",
    layout: layout
  };
  plotly.plot(data, graphOptions, function(err, msg) {
    console.log(msg);
  });
  // sleep.sleep(20);
};
